{
    "layer": "top", // Waybar at top layer
{{- if eq .chassisType "laptop" }}
    "position": "top", // Waybar position (top|bottom|left|right)
{{- else }}
    "position": "bottom", // Waybar position (top|bottom|left|right)
{{- end }}
    "height": 24, // Waybar height (to be removed for auto height)
{{- if eq .chezmoi.hostname "pallet" }}
    "output": ["DP-3", "HDMI-A-6", "HEADLESS-1"],
{{- else if eq .chassisType "laptop" }}
    "output": ["eDP-1"],
{{- end }}
    // Choose the order of the modules
    "modules-left": ["sway/workspaces", "sway/mode"],
    "modules-center": [],
    "modules-right": ["clock", "network", "cpu", "custom/gpu", "memory", "battery", "backlight", "wireplumber", "custom/vpn", "idle_inhibitor", "tray"],

    // Modules configuration
    "sway/workspaces": {
         "disable-scroll": true,
         "all-outputs": true,
         "format": "{name}"
    },
    "sway/mode": {
        "format": "<span style=\"italic\">{}</span>"
    },
    "idle_inhibitor": {
        "format": "{icon}",
        "format-icons": {
            "activated": "",
            "deactivated": ""
        },
        "tooltip-format-activated": "Idle Inhibit Enabled",
        "tooltip-format-deactivated": "Idle Inhibit Disabled"
    },
    "tray": {
        // "icon-size": 21,
        "spacing": 10
    },
    "clock": {
        "format": " {:%Y-%m-%d %H:%M}",
        "tooltip-format": "<tt><big>{calendar}</big></tt>",
    },
    "cpu": {
        "format": "{icon} {usage:3}%",
        "format-icons": ["", "", "", "", ""]
    },
    "memory": {
        "format": " {percentage:3}%",
        "tooltip-format": "RAM:  {used:0.1f}/{total:0.1f}GiB\nSwap: {swapUsed:0.1f}/{swapTotal:0.1f}GiB"
    },
    "backlight": {
        "format": "{icon} {percent:3}%",
        "format-icons": ["", "", ""],
        "on-scroll-up": "{{ .chezmoi.destDir }}/.local/bin/brightness-control up",
        "on-scroll-down": "{{ .chezmoi.destDir }}/.local/bin/brightness-control down"
    },
    "battery": {
        "states": {
            "full": 100,
            "good": 97,
            "warning": 30,
            "critical": 15
        },
        "bat": "BAT0",
        "full-at": 97,
        "format": " {icon} {capacity:3}%",
        "format-plugged": " {capacity:3}%",
        "format-icons": ["", "", "", "", ""],
        "tooltip-format": "{time}",
        "tooltip-format-full": "Full",
    },
    "network": {
        "format-wifi": "{icon} {ipaddr}/{cidr}",
        "format-ethernet": " {ipaddr}/{cidr}",
        "format-disconnected": " Disconnected",
        "tooltip-format": " {bandwidthDownBits}\n {bandwidthUpBits}",
        "tooltip-format-wifi": " {essid}\n {bandwidthDownBits}\n {bandwidthUpBits}",
        "format-icons": ["", "", ""],
    },
    "wireplumber": {
        //"scroll-step": 1,
        "format": "{icon} {volume:3}%",
        "format-muted": " ---%",
        "format-icons": {
            "headphones": "",
            "headset": "",
            "bluetooth": "",
            "default": ["", "", ""],
        },
        "on-click": "{{ .chezmoi.destDir }}/.local/bin/volume-control toggle-mute",
        "on-click-right": "pavucontrol",
        "on-scroll-up": "{{ .chezmoi.destDir }}/.local/bin/volume-control up",
        "on-scroll-down": "{{ .chezmoi.destDir }}/.local/bin/volume-control down"
    },
    "custom/gpu": {
        "interval": 1,
        "format": " {percentage:3}%",
        "return-type": "json",
        "exec": "{{ .chezmoi.destDir }}/.local/bin/waybar-gpu-status",
        "tooltip": true,
    },
    "custom/vpn": {
        "interval": 5,
        "return-type": "json",
        "exec": "{{ .chezmoi.destDir }}/.local/bin/waybar-vpn-status",
        "tooltip": true,
    }
}
